<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이용약관 동의</title>
    <style>
        body {
            background-color: #1a1a1a;
            color: #ddd;
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            height: 100vh;
            box-sizing: border-box;
        }

        h2 {
            color: #ffd700;
            text-align: center;
            margin-top: 0;
        }

        .terms-container {
            flex-grow: 1;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid #555;
            border-radius: 5px;
            padding: 15px;
            overflow-y: auto;
            margin-bottom: 15px;
            white-space: pre-wrap;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .actions {
            text-align: center;
        }

        button {
            padding: 12px 30px;
            background-color: #ffd700;
            color: #333;
            border: none;
            border-radius: 5px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: opacity 0.3s;
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background-color: #555;
            color: #888;
        }

        button:not(:disabled):hover {
            opacity: 0.9;
        }
    </style>
</head>

<body>
    <h2>개인정보 활용 동의서</h2>
    <div class="terms-container" id="termsContainer">
        [사이트명] 서비스 이용약관

        제1조 (목적) 본 약관은 [사이트명](이하 "회사"라 함)이 제공하는 타로 점 서비스 및 관련 제반 서비스(이하 "서비스"라 함)의 이용과 관련하여 회사와 회원 간의 권리, 의무 및 책임사항, 기타
        필요한 사항을 규정함을 목적으로 합니다.

        제2조 (용어의 정의)
        "회원"이란 회사에 개인정보를 제공하여 회원등록을 한 자로서, 회사의 정보를 지속적으로 제공받으며 회사가 제공하는 서비스를 계속적으로 이용할 수 있는 자를 말합니다.
        "서비스"란 구현되는 단말기(PC, 휴대형 단말기 등 각종 유무선 장치를 포함)와 상관없이 회원이 이용할 수 있는 [사이트명] 및 관련 제반 서비스를 의미합니다.

        제3조 (회원가입)
        이용자는 회사가 정한 가입 양식에 따라 회원정보를 기입한 후 이 약관에 동의한다는 의사표시를 함으로써 회원가입을 신청합니다.
        회사는 제1항과 같이 회원으로 가입할 것을 신청한 이용자 중 다음 각 호에 해당하지 않는 한 회원으로 등록합니다. 가. 등록 내용에 허위, 기재누락, 오기가 있는 경우 나. 기타 회원으로 등록하는 것이
        회사의 기술상 현저히 지장이 있다고 판단되는 경우

        제4조 (회원 정보의 변경) 회원은 회원가입 신청 시 기재한 사항이 변경되었을 경우 온라인으로 수정을 하거나 전자우편 기타 방법으로 회사에 대하여 그 변경사항을 알려야 합니다.

        제5조 (회원의 의무)
        회원은 관계법령, 이 약관의 규정, 이용안내 및 주의사항 등 회사가 통지하는 사항을 준수하여야 하며, 기타 회사의 업무에 방해되는 행위를 하여서는 안 됩니다.
        회원은 서비스 이용과 관련하여 다음 각 호의 행위를 하여서는 안 됩니다. 가. 신청 또는 변경 시 허위 내용의 등록 나. 타인의 정보 도용 다. 회사가 게시한 정보의 변경

        제6조 (서비스의 제공 및 변경)
        회사는 회원에게 타로 운세 보기 및 관련 콘텐츠를 제공합니다.
        서비스의 내용은 회사의 정책에 따라 변경될 수 있으며, 이 경우 변경 내용 및 일자를 명시하여 공지합니다.

        ================================================================

        [필수] 개인정보 수집 및 이용 동의

        [사이트명]은(는) 회원가입, 원활한 고객상담, 각종 서비스의 제공을 위해 아래와 같이 개인정보를 수집하고 있습니다.

        1. 수집하는 개인정보의 항목
        필수항목: 이름, 전화번호, 이메일 주소
        자동수집항목: 서비스 이용기록, 접속 로그, 쿠키, 접속 IP 정보

        2. 개인정보의 수집 및 이용 목적
        회원 관리: 회원제 서비스 이용에 따른 본인확인, 개인 식별, 가입 의사 확인, 불량 회원의 부정 이용 방지와 비인가 사용 방지
        서비스 제공: 타로 운세 결과 제공 및 저장, 결과지 발송(이메일/문자 등)
        고충 처리: 민원인의 신원 확인, 민원사항 확인, 사실조사를 위한 연락·통지, 처리결과 통보

        3. 개인정보의 보유 및 이용 기간 원칙적으로, 개인정보 수집 및 이용목적이 달성된 후에는 해당 정보를 지체 없이 파기합니다. 단, 다음의 정보에 대해서는 아래의 이유로 명시한 기간 동안 보존합니다.
        보존 항목: 이름, 전화번호, 이메일
        보존 근거: 회원 탈퇴 시까지 (또는 관계 법령 위반에 따른 수사·조사 등이 진행 중인 경우에는 해당 수사·조사 종료 시까지)

        ※ 귀하는 위와 같은 개인정보 수집 및 이용에 동의하지 않을 수 있으나, 동의를 거부할 경우 회원가입 및 서비스 이용이 제한될 수 있습니다.
    </div>
    <div class="actions">
        <button id="agreeBtn" disabled>동의하기</button>
    </div>

    <script>
        const termsContainer = document.getElementById('termsContainer');
        const agreeBtn = document.getElementById('agreeBtn');

        // Check if content fits without scrolling
        if (termsContainer.scrollHeight <= termsContainer.clientHeight) {
            agreeBtn.disabled = false;
        }

        termsContainer.addEventListener('scroll', () => {
            // Check if scrolled to bottom with some buffer
            if (termsContainer.scrollTop + termsContainer.clientHeight >= termsContainer.scrollHeight - 10) {
                agreeBtn.disabled = false;
            }
        });

        agreeBtn.addEventListener('click', () => {
            if (window.opener && !window.opener.closed) {
                window.opener.postMessage('termsAgreed', '*');
                window.close();
            } else {
                alert('부모 창을 찾을 수 없습니다.');
            }
        });
    </script>
</body>

</html>